<!doctype html>
<html lang="en" data-theme="dark">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/variables.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/bottom-nav.css">
  <link rel="stylesheet" href="css/themes.css">
  <link rel="icon" href="icons/192.png">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" rel="stylesheet">
  <title>NZ â€¢ College Assignments</title>

  <main class="mobile-layout-container" style="padding-bottom: calc(var(--bottom-nav-height) + 20px);">

    <!-- HEADER CONTEXT -->
    <header class="header-context">
      <div class="brand short">
        <i class="fa-solid fa-heart" style="color: var(--brand-rose)"></i> NZ
      </div>
      <h2 class="header-title-lg">Assignments</h2>
      <div class="muted-text">College Work Tracker</div>
    </header>

    <!-- STATS SECTION -->
    <section class="stats-section" style="margin-bottom: var(--space-lg);">
      <div class="card">
        <div class="section-title"><i class="fa-solid fa-chart-line"></i> Performance Report</div>
        <div class="list">
          <div class="stat-row" style="display:flex;justify-content:space-between;margin-bottom:8px">
            <span class="muted-text">24 jam terakhir</span>
            <strong id="stat-1d">â€”</strong>
          </div>
          <div class="stat-row" style="display:flex;justify-content:space-between;margin-bottom:8px">
            <span class="muted-text">3 hari terakhir</span>
            <strong id="stat-3d">â€”</strong>
          </div>
          <div class="stat-row" style="display:flex;justify-content:space-between">
            <span class="muted-text">5 hari terakhir</span>
            <strong id="stat-5d">â€”</strong>
          </div>
        </div>
      </div>
    </section>

    <!-- ASSIGNMENTS SECTION -->
    <section class="assignments-section">
      <div class="card" style="padding:0; overflow:hidden;">
        <div class="section-title" style="padding: var(--space-md) var(--space-md) 0;"><i class="fa-solid fa-books"></i>
          Current Tasks</div>

        <div id="assignments-active" class="list" style="padding: var(--space-md);"></div>

        <div class="section-title"
          style="padding: var(--space-md) var(--space-md) 0; border-top: 1px solid var(--glass-border);"><i
            class="fa-solid fa-check-circle"></i> Completed</div>
        <div id="assignments-completed" class="list" style="padding: var(--space-md);"></div>
      </div>
    </section>

    <!-- ADD ASSIGNMENT FORM (Bottom Sheet Style) -->
    <div class="floating-zone">
      <button class="action-fab" id="open-sheet" style="width: 56px; height: 56px; border-radius: 20px;">
        <i class="fa-solid fa-plus"></i>
      </button>
    </div>

  </main>

  <!-- BOTTOM SHEET FOR ADDING -->
  <div class="bottom-sheet-overlay" id="sheet-overlay">
    <div class="bottom-sheet" id="assignment-sheet">
      <div class="sheet-handle"></div>
      <h3 style="margin:0 0 20px;font-size:18px">Add Assignment</h3>
      <form id="create-assignment">
        <div class="form-group">
          <label class="form-label">Title</label>
          <input class="input" name="title" placeholder="What is the task?" required>
        </div>
        <div class="form-group">
          <label class="form-label">Description (Optional)</label>
          <textarea class="input" name="description" placeholder="Notes, instructions, etc."></textarea>
        </div>
        <div class="form-row" style="display:flex; gap:16px; margin-bottom:20px;">
          <div style="flex:1">
            <label class="form-label">Deadline</label>
            <input class="input" type="datetime-local" name="deadline" required>
          </div>
          <div style="flex:1">
            <label class="form-label">Assign To</label>
            <select class="input" name="assigned_to" style="appearance:none">
              <option value="Nesya">Nesya</option>
              <option value="Zaldy">Zaldy</option>
            </select>
          </div>
        </div>
        <button class="btn btn-block" type="submit">Add Assignment</button>
      </form>
    </div>
  </div>

  <!-- MOOD PROMPT (Standardized) -->
  <div class="bottom-sheet-overlay" id="mood-overlay">
    <div class="bottom-sheet" id="mood-sheet">
      <div class="sheet-handle"></div>
      <h3 style="margin:0 0 20px;font-size:18px">Catat Mood Setelah Selesai</h3>
      <form id="mood-form">
        <div class="form-group">
          <label class="form-label">Bagaimana perasaan Anda?</label>
          <div class="prio-selector" id="mood-grid"
            style="display:flex; gap:8px; background:var(--color-surface-subtle); padding:4px; border-radius:var(--radius-md);">
            <button type="button" class="prio-btn" data-val="1"
              style="flex:1; padding:8px; border-radius:6px; background:transparent; border:1px solid transparent; font-size:24px;">ğŸ˜«</button>
            <button type="button" class="prio-btn" data-val="2"
              style="flex:1; padding:8px; border-radius:6px; background:transparent; border:1px solid transparent; font-size:24px;">ğŸ˜•</button>
            <button type="button" class="prio-btn" data-val="3"
              style="flex:1; padding:8px; border-radius:6px; background:transparent; border:1px solid transparent; font-size:24px;">ğŸ˜</button>
            <button type="button" class="prio-btn" data-val="4"
              style="flex:1; padding:8px; border-radius:6px; background:transparent; border:1px solid transparent; font-size:24px;">ğŸ™‚</button>
            <button type="button" class="prio-btn" data-val="5"
              style="flex:1; padding:8px; border-radius:6px; background:transparent; border:1px solid transparent; font-size:24px;">ğŸ¤©</button>
          </div>
          <input type="hidden" name="mood" id="mood-value" required>
        </div>
        <div class="form-group">
          <label class="form-label">Catatan (opsional)</label>
          <textarea name="note" id="mood-note" class="input"
            placeholder="Contoh: Selesai tugas, rasanya lega"></textarea>
        </div>
        <div class="sheet-actions" style="display:flex; gap:12px; margin-top:12px">
          <button type="button" class="btn secondary" id="mood-cancel" style="flex:1">Lewati</button>
          <button type="submit" class="btn" style="flex:1">Simpan</button>
        </div>
      </form>
    </div>
  </div>

  <!-- MOBILE BOTTOM NAVIGATION -->
  <nav class="bottom-nav">
    <a href="/" class="nav-item">
      <i class="fa-solid fa-house"></i>
      <span>Home</span>
    </a>
    <a href="/daily-tasks" class="nav-item">
      <i class="fa-solid fa-list-check"></i>
      <span>Tasks</span>
    </a>
    <a href="/college-assignments" class="nav-item active">
      <i class="fa-solid fa-books"></i>
      <span>Studies</span>
    </a>
    <a href="/chat" class="nav-item">
      <i class="fa-solid fa-message-heart"></i>
      <span>Chat</span>
    </a>
    <a href="/menu" class="nav-item" onclick="event.preventDefault(); window.location.href='/#modules'">
      <i class="fa-solid fa-grid-2"></i>
      <span>Menu</span>
    </a>
  </nav>

  <script type="module" src="js/assignments.js"></script>
  </body>

</html>